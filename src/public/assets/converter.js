import{r as s,o as W,c as A,a as M,b as t,d as Z,n as C,w as O,v as R,e as _,t as q,f as I,g as J,V as K}from"./chunks/index.js";const Q={class:"tabs"},X={class:"output-box"},Y={class:"output-code"},ee=["innerHTML"],te={__name:"VueFormPhpConverter",setup(le){const b=s(""),v=s("FormComponent"),E=s("input"),o=s(""),f=s(""),F=s("Copy"),S=s(!1),z=s(null);let y={};function u(l){E.value=l}function D(){b.value="",v.value="",o.value="",f.value="",F.value='<i class="fa fa-clipboard" aria-hidden="true"></i>&nbsp;Copy',u("input")}function H(){o.value.length!==0&&navigator.clipboard.writeText(o.value).then(()=>{const l=F.value;F.value='<i class="fa fa-clipboard" aria-hidden="true"></i>&nbsp;Copied!',setTimeout(()=>{F.value=l},2e3)})}function N(){const l=o.value;if(l.length===0)return;let e=v.value.trim();e||(e="FormComponent"),e.endsWith(".php")||(e+=".php");const n=new Blob([l],{type:"text/plain"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function w(l){const e=/<([A-Za-z]+Element)([^>]*)>([\s\S]*?)<\/\1>|<([A-Za-z]+Element)([^>]*)\/>/g;let n=[];const a={Vueform:"LaravelVueForm\\Elements\\Vueform",ButtonElement:"LaravelVueForm\\Elements\\Static\\ButtonElement",StaticElement:"LaravelVueForm\\Elements\\Static\\StaticElement",EditorElement:"LaravelVueForm\\Elements\\Fields\\EditorElement",FileElement:"LaravelVueForm\\Elements\\Fields\\FileElement",SelectElement:"LaravelVueForm\\Elements\\Fields\\SelectElement",SignatureElement:"LaravelVueForm\\Elements\\Fields\\SignatureElement",SliderElement:"LaravelVueForm\\Elements\\Fields\\SliderElement",TagsElement:"LaravelVueForm\\Elements\\Fields\\TagsElement",HiddenElement:"LaravelVueForm\\Elements\\Fields\\HiddenElement",PhoneElement:"LaravelVueForm\\Elements\\Fields\\PhoneElement",CheckboxgroupElement:"LaravelVueForm\\Elements\\Fields\\CheckboxgroupElement",MultiselectElement:"LaravelVueForm\\Elements\\Fields\\MultiselectElement",RadiogroupElement:"LaravelVueForm\\Elements\\Fields\\RadiogroupElement",CheckboxElement:"LaravelVueForm\\Elements\\Fields\\CheckboxElement",CaptchaElement:"LaravelVueForm\\Elements\\Fields\\CaptchaElement",MultifileElement:"LaravelVueForm\\Elements\\Fields\\MultifileElement",RadioElement:"LaravelVueForm\\Elements\\Fields\\RadioElement",TextareaElement:"LaravelVueForm\\Elements\\Fields\\TextareaElement",DateElement:"LaravelVueForm\\Elements\\Fields\\DateElement",LocationElement:"LaravelVueForm\\Elements\\Fields\\LocationElement",TextElement:"LaravelVueForm\\Elements\\Fields\\TextElement",DatesElement:"LaravelVueForm\\Elements\\Fields\\DatesElement",GroupElement:"LaravelVueForm\\Elements\\Structure\\GroupElement",ListElement:"LaravelVueForm\\Elements\\Structure\\ListElement",GridElement:"LaravelVueForm\\Elements\\Structure\\GridElement",ObjectElement:"LaravelVueForm\\Elements\\Structure\\ObjectElement"};let m;for(;(m=e.exec(l))!==null;){const c=m[1]||m[4];if(!a[c])continue;y[c]="use "+a[c]+";";const x=m[2]||m[5],d=m[3]||"",i=x.match(/name="([^"]+)"/),G=i?i[1]:"unknown";let h=`${c}::name('${G}')`;if([...x.matchAll(/(:)?([a-zA-Z0-9\-]+)="([\s\S]*?)"/g)].forEach(V=>{const L=V[1]===":",B=V[2];if(B==="name")return;let g=V[3];const T=B.replace(/-([a-z])/g,(j,p)=>p.toUpperCase());if(L&&g.trim().startsWith("{")&&g.trim().endsWith("}")){const j=g.replace(/^{|}$/g,"").split(",").map(p=>{if(p=p.trim(),!p)return null;let k=p.split(":");if(!k[0])return null;let $=k[0].trim().replace(/['"]/g,""),r=k[1]?.trim();return r=r??"null",r==="true"||r==="false"||r==="null"?`'${$}' => ${r}`:isNaN(r)?`'${$}' => '${String(r).replace(/['"]/g,"")}'`:`'${$}' => ${r}`}).filter(Boolean).join(", ");h+=`->${T}([${j}])`;return}L?h+=`->${T}(${g})`:h+=`->${T}('${g}')`}),d.trim()){const V=w(d);h+=`->schema([
${V.map(L=>"    "+L).join(`,
`)}
])`}n.push(h)}return n}function P(){let l=b.value.trim(),e=v.value.trim();if(!l||!e){alert("Please enter content and filename");return}y={},l=l.replace(/<\/?template>/g,"").trim();const n=l.match(/<Vueform[^>]*>([\s\S]*?)<\/Vueform>/);if(!n){o.value="Vueform not found",f.value=o.value,u("output");return}let a=n[1];const c=w(a).join(`,
`);let d=`
<?php
namespace App\\VueForm;

use LaravelVueForm\\Abstracts\\VueFormBuilder;
use LaravelVueForm\\Elements\\Vueform;
${Object.values(y).sort().join(`
`)}

class ${e} extends VueFormBuilder
{
    protected function buildForm()
    {
        return Vueform::build()
            ->schema([
                ${c}
            ]);
    }
}`;S.value=!0,d=d.replace(/\s*-\s+>/g,"->");try{let i=window.js_beautify(d,{indent_size:4,templating:["php"]});o.value=i,I(()=>{f.value=window.hljs.highlight(i,{language:"php"}).value}),u("output")}catch(i){console.error("Formatting/Highlighting failed:",i),o.value="Formatting failed. Check console for error: "+i.message,f.value=o.value,u("output")}}return W(()=>{typeof bootstrap<"u"&&bootstrap.Tooltip&&[].slice.call(document.querySelectorAll('[data-toggle="tooltip"]')).map(function(e){return new bootstrap.Tooltip(e)}),u("input")}),(l,e)=>(M(),A("div",null,[t("div",Q,[t("div",{class:C(["tab",{active:E.value==="input"}]),"data-tab":"input",onClick:e[0]||(e[0]=n=>u("input"))}," Input ",2),S.value?(M(),A("div",{key:0,class:C(["tab",{active:E.value==="output"}]),"data-tab":"output",onClick:e[1]||(e[1]=n=>u("output"))}," Output ",2)):Z("",!0)]),t("div",{id:"input",class:C(["section",{active:E.value==="input"}])},[O(t("textarea",{id:"content-html","onUpdate:modelValue":e[2]||(e[2]=n=>b.value=n),placeholder:"Paste your Vueform <template> code here..."},null,512),[[R,b.value]]),O(t("input",{id:"filename","onUpdate:modelValue":e[3]||(e[3]=n=>v.value=n),type:"text",placeholder:"Enter output filename (e.g., ContactForm)"},null,512),[[R,v.value]]),t("div",{class:"buttons"},[t("button",{class:"primary",onClick:P},"Convert"),t("button",{class:"secondary",onClick:D},"Reset")])],2),t("div",{id:"output",class:C(["section",{active:E.value==="output"}])},[t("div",X,[t("div",{class:"copy-btn",onClick:H},[e[4]||(e[4]=t("i",{class:"fa fa-clipboard","aria-hidden":"true"},null,-1)),_("  "+q(F.value),1)]),t("div",{class:"download-btn",onClick:N},[...e[5]||(e[5]=[t("i",{class:"fa fa-download","aria-hidden":"true"},null,-1),_("  ",-1)])]),t("div",Y,[t("code",{id:"outputContent",ref_key:"outputContentElement",ref:z,innerHTML:f.value},null,8,ee)])])],2)]))}},U=J(te);U.use(K);U.mount("#vue-form-php-converter");
